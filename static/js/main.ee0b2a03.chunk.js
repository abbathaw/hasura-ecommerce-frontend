(this.webpackJsonpMazada=this.webpackJsonpMazada||[]).push([[0],{117:function(e,n,t){e.exports=t(535)},122:function(e,n,t){},535:function(e,n,t){"use strict";t.r(n);var r=t(46),a=t.n(r),i=t(0),o=t.n(i),c=t(12),l=(t(122),t(26)),u=Object(l.a)(),m={domain:"mazada.auth.us-west-2.amazoncognito.com",clientId:"3kl7hui7a7p7f9tc5qvpn9pupj",responseType:"token",redirectUri:"http://localhost:3000",signoutUri:"http://localhost:3000",tokenScopes:["openid","email","profile"],UserPoolId:"us-west-2_9np3c0hBN",region:"us-west-2"},s=t(15),d=t.n(s),p=t(23),f=t(11),g=t(110),b=t(106),h=t(87),E=t(88),v=t.n(E),O=function(){return o.a.createElement("div",{style:{position:"absolute",display:"flex",justifyContent:"center",height:"100vh",width:"100vw",top:0,bottom:0,left:0,right:0,backgroundColor:"white"}},o.a.createElement("img",{src:v.a,alt:"loading"}))},x=t(5),y=t(89),j=t.n(y),w=t(544),_=t(8);function k(){var e=Object(x.a)(["\n  font-size: 4rem;\n  margin-left: 2rem;\n  position: relative;\n  z-index: 2;\n  transform: skew(-7deg);\n  a {\n    padding: 0.5rem 1rem;\n  }\n  @media (max-width: 1300px) {\n    margin: 0;\n    text-align: center;\n  }\n"]);return k=function(){return e},e}var S=_.c.h1(k()),C=function(){var e=xt(),n=e.loading,t=e.loginWithRedirect;return n?o.a.createElement("div",null,"Loading..."):o.a.createElement("div",{className:"overlay"},o.a.createElement("div",{className:"overlay-content"},o.a.createElement("div",{className:"overlay-heading"},o.a.createElement(S,null,o.a.createElement("img",{width:"300px",src:j.a,alt:"Mazada Logo"})),"Welcome to the Mazada Shopping app"),o.a.createElement("div",{className:"overlay-message"},"Please login to continue"),o.a.createElement("div",{className:"overlay-action"},o.a.createElement(w.a,{id:"qsLoginBtn",variant:"primary",className:"btn-margin loginBtn",onClick:function(){t({})}},"Log In"))))},I=t(22),R=t(93),T=t.n(R);function N(){var e=Object(x.a)(["\n  margin: 0;\n  padding: 0;\n  display: flex;\n  justify-self: end;\n  font-size: 2rem;\n  a,\n  button {\n    padding: 1rem 3rem;\n    display: flex;\n    align-items: center;\n    position: relative;\n    text-transform: uppercase;\n    font-weight: 900;\n    font-size: 1em;\n    background: none;\n    border: 0;\n    cursor: pointer;\n    color: ",";\n    font-weight: 800;\n    @media (max-width: 700px) {\n      font-size: 10px;\n      padding: 0 10px;\n    }\n    &:before {\n      content: '';\n      width: 2px;\n      background: ",";\n      height: 100%;\n      left: 0;\n      position: absolute;\n      transform: skew(-20deg);\n      top: 0;\n      bottom: 0;\n    }\n    &:after {\n      height: 2px;\n      background: red;\n      content: '';\n      width: 0;\n      position: absolute;\n      transform: translateX(-50%);\n      transition: width 0.4s;\n      transition-timing-function: cubic-bezier(1, -0.65, 0, 2.31);\n      left: 50%;\n      margin-top: 2rem;\n    }\n    &:hover,\n    &:focus {\n      outline: none;\n      &:after {\n        width: calc(100% - 60px);\n      }\n    }\n  }\n  @media (max-width: 1300px) {\n    border-top: 1px solid ",";\n    width: 100%;\n    justify-content: center;\n    font-size: 1.5rem;\n  }\n"]);return N=function(){return e},e}var z=_.c.ul(N(),(function(e){return e.theme.black}),(function(e){return e.theme.lightgrey}),(function(e){return e.theme.lightgrey})),q=t(546),U=t(545);function A(){var e=Object(x.a)(["\n  background: ",";\n  color: white;\n  border-radius: 50%;\n  padding: 0.5rem;\n  line-height: 2rem;\n  min-width: 3rem;\n  margin-left: 1rem;\n  font-weight: 100;\n  font-feature-settings: 'tnum';\n  font-variant-numeric: tabular-nums;\n"]);return A=function(){return e},e}function D(){var e=Object(x.a)(["\n  position: relative;\n  .count {\n    display: block;\n    position: relative;\n    transition: all 0.4s;\n    backface-visibility: hidden;\n  }\n  /* Initial State of the entered Dot */\n  .count-enter {\n    transform: scale(4) rotateX(0.5turn);\n  }\n  .count-enter-active {\n    transform: rotateX(0);\n  }\n  .count-exit {\n    top: 0;\n    position: absolute;\n    transform: rotateX(0);\n  }\n  .count-exit-active {\n    transform: scale(4) rotateX(0.5turn);\n  }\n"]);return D=function(){return e},e}var L=_.c.span(D()),P=_.c.div(A(),(function(e){return e.theme.red})),$=function(e){var n=e.count;return o.a.createElement(L,null,o.a.createElement(q.a,null,o.a.createElement(U.a,{unmountOnExit:!0,className:"count",classNames:"count",key:n,timeout:{enter:400,exit:400}},o.a.createElement(P,null,n))))},M=function(){var e=ze(),n=e.isOpen,t=e.setIsOpen,r=e.cartCount,a=xt().logout;return o.a.createElement(z,null,o.a.createElement(I.b,{to:"/shop"},"Shop"),o.a.createElement(I.b,{to:"/sell"},"Sell"),o.a.createElement(I.b,{to:"/orders"},"Orders"),o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{onClick:function(){t(!n)}},"My Cart ",o.a.createElement($,{count:r}))),o.a.createElement(I.b,{onClick:a,to:"/"},"Logout"))},F=(t(516),t(14)),W=t(13),Y=t.n(W);function Q(){var e=Object(x.a)(["\n  padding: 20px;\n  position: relative;\n  background: white;\n  position: fixed;\n  height: 100%;\n  top: 0;\n  right: 0;\n  width: 40%;\n  min-width: 500px;\n  bottom: 0;\n  transform: translateX(100%);\n  transition: all 0.3s;\n  box-shadow: 0 0 10px 3px rgba(0, 0, 0, 0.2);\n  z-index: 5;\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n  ",";\n  header {\n    border-bottom: 5px solid ",";\n    margin-bottom: 2rem;\n    padding-bottom: 2rem;\n  }\n  footer {\n    border-top: 10px double ",";\n    margin-top: 2rem;\n    padding-top: 2rem;\n    display: grid;\n    grid-template-columns: auto auto;\n    align-items: center;\n    font-size: 3rem;\n    font-weight: 900;\n    p {\n      margin: 0;\n    }\n  }\n  ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    overflow: scroll;\n  }\n  @media (max-width: 600px) {\n    width: 100%;\n    min-width: 300px;\n    footer {\n      p {\n        font-size: 2rem;\n      }\n    }\n      /* OR, change value to 'none' */\n  }\n"]);return Q=function(){return e},e}var G=_.c.div(Q(),(function(e){return e.open&&"transform: translateX(0);"}),(function(e){return e.theme.black}),(function(e){return e.theme.black}));function B(){var e=Object(x.a)(["\n  background: ",";\n  color: white;\n  display: inline-block;\n  padding: 4px 5px;\n  transform: skew(-3deg);\n  margin: 0;\n  font-size: 4rem;\n"]);return B=function(){return e},e}var J=_.c.h3(B(),(function(e){return e.theme.red}));function X(){var e=Object(x.a)(["\n  background: black;\n  color: white;\n  font-size: 3rem;\n  border: 0;\n  position: absolute;\n  z-index: 2;\n  right: 0;\n"]);return X=function(){return e},e}var H=_.c.button(X());function K(){var e=Object(x.a)(["\n  background: #e49150;\n  color: white;\n  font-weight: 500;\n  border: 0;\n  border-radius: 0;\n  text-transform: uppercase;\n  font-size: 2rem;\n  padding: 0.8rem 1.5rem;\n  transform: skew(-2deg);\n  display: inline-block;\n  transition: all 0.5s;\n  &[disabled] {\n    opacity: 0.5;\n  }\n"]);return K=function(){return e},e}var V=_.c.button(K()),Z=function(e){var n={style:"currency",currency:"MYR",minimumFractionDigits:2};return e%100===0&&(n.minimumFractionDigits=0),new Intl.NumberFormat("en-US",n).format(e/100)};function ee(){var e=Object(x.a)(["\n  font-size: 3rem;\n  background: none;\n  border: 0;\n  &:hover {\n    color: ",";\n    cursor: pointer;\n  }\n"]);return ee=function(){return e},e}function ne(){var e=Object(x.a)(["\n    mutation DELETE_CURRENT_ITEM_IN_CART($id: uuid!) {\n        delete_cart_items(where: {id: {_eq: $id}}) {\n            affected_rows\n        }\n    }\n"]);return ne=function(){return e},e}var te=Y()(ne()),re=_.c.button(ee(),(function(e){return e.theme.red})),ae=function(e){var n=e.id,t=o.a.useState(!1),r=Object(f.a)(t,2),a=r[0],i=r[1],c=Object(F.a)(te),l=Object(f.a)(c,1)[0];return o.a.createElement(re,{disabled:a,onClick:Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,l({variables:{id:n},refetchQueries:["GET_CURRENT_ITEM_IN_CART"]}).then((function(e){e.data;i(!1)})).catch((function(e){console.log(e.message),i(!1)}));case 3:case"end":return e.stop()}}),e)}))),title:"Delete Item"},"\xd7")};function ie(){var e=Object(x.a)(["\n  padding: 1rem 0;\n  border-bottom: 1px solid ",";\n  display: grid;\n  align-items: center;\n  grid-template-columns: auto 1fr auto;\n  img {\n    margin-right: 10px;\n  }\n  h3,\n  p {\n    margin: 0;\n  }\n"]);return ie=function(){return e},e}var oe=_.c.li(ie(),(function(e){return e.theme.lightgrey})),ce=function(e){var n=e.cartItem,t=n.item;return t?o.a.createElement(oe,null,o.a.createElement("img",{width:"100",src:t.img,alt:t.title}),o.a.createElement("div",{className:"cart-item-details"},o.a.createElement("h3",null,t.title),o.a.createElement("p",null,Z(t.price*n.quantity)," - ",o.a.createElement("em",null,n.quantity," \xd7 ",Z(t.price)," each"))),o.a.createElement(ae,{id:n.cartItemId})):o.a.createElement(oe,null,o.a.createElement("p",null,"This Item has been removed"),o.a.createElement(ae,{id:n.cartItemId}))};function le(e){return e.reduce((function(e,n){return n.item?e+n.quantity*n.item.price:e}),0)}function ue(){var e=Object(x.a)(["\n  padding: 2rem;\n  background: white;\n  margin: 2rem 0;\n  border: 1px solid rgba(0, 0, 0, 0.05);\n  border-left: 5px solid red;\n  p {\n    margin: 0;\n    font-weight: 100;\n  }\n  strong {\n    margin-right: 1rem;\n  }\n"]);return ue=function(){return e},e}var me=_.c.div(ue()),se=function(e){var n=e.error;if(!n||!n.message)return null;var t=n.message;return t.includes("JWTExpired")&&(t="Please refresh the tab to login again"),n.networkError&&n.networkError.result&&n.networkError.result.errors.length?n.networkError.result.errors.map((function(e,n){return o.a.createElement(me,{key:n},o.a.createElement("p",{"data-test":"graphql-error"},o.a.createElement("strong",null,"Oops!"),t.replace("GraphQL error: ","")))})):o.a.createElement(me,null,o.a.createElement("p",{"data-test":"graphql-error"},o.a.createElement("strong",null,"Oops!"),t.replace("GraphQL error: ","")))};se.defaultProps={error:{}};var de=se,pe=t(100),fe=t.n(pe),ge=t(27),be=t.n(ge),he=t(101),Ee=t.n(he);function ve(){var e=Object(x.a)(["\n    mutation createOrder($token: String!) {\n        createOrder(token: $token) {\n            id\n            status\n        }\n    }\n"]);return ve=function(){return e},e}var Oe=Y()(ve()),xe=function(e){var n=e.children,t=e.cart,r=e.total,a=Object(c.f)(),i=xt().idToken,l=Ee()(i),u=Object(F.a)(Oe),m=Object(f.a)(u,1)[0],s=function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return be.a.start(),e.next=3,m({variables:{token:n.id}}).then((function(e){var n=e.data;be.a.done(),a.push("/order/".concat(n.createOrder.id))})).catch((function(e){be.a.done(),console.error(e.message)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return o.a.createElement(fe.a,{amount:le(t),name:"Mazada",description:"Order of ".concat(r," items!"),image:t.length&&t[0].item&&t[0].item.img,stripeKey:"pk_test_rCwobAubfaGyn2GzBv07Mql100eHnNwzpY",currency:"MYR",email:l&&l.email?l.email:"mazada@mazada.com",token:function(e){return s(e)}},n)};function ye(){var e=Object(x.a)(["\n    subscription CART_ITEMS {\n        items( where: {cart_items: {}} ) {\n            id\n            title\n            description\n            img\n            price\n        }\n    }\n"]);return ye=function(){return e},e}var je=Y()(ye()),we=function(){var e=ze(),n=e.isOpen,t=e.setIsOpen,r=e.setCartCount,a=Object(F.c)(Te),i=a.loading2,c=a.error2,l=a.data,u=Object(F.c)(je),m=u.loading,s=u.error,d=u.data;if(m||i)return o.a.createElement("p",null,"Loading...");if(s||c)return console.error(s),console.error(c),o.a.createElement(o.a.Fragment,null,s?o.a.createElement(de,{error:s}):o.a.createElement(de,{error:c}));var p=l&&l.cart_items?l.cart_items.reduce((function(e,n){return e+n.quantity}),0):0,f=l&&l.cart_items?l.cart_items:[];r(p);var g=f.map((function(e){var n=d.items.filter((function(n){return n.id===e.item_id}));return{cartItemId:e.id,quantity:e.quantity,item:n[0]}}));return o.a.createElement(G,{open:n},o.a.createElement("header",null,o.a.createElement(H,{onClick:function(){t(!n)},title:"close"},"\xd7"),o.a.createElement(J,null,"Your Cart"),o.a.createElement("p",null,"You Have ",p," Item",1===p?"":"s"," in your cart.")),o.a.createElement("ul",null,g.map((function(e){return o.a.createElement(ce,{key:e.cartItemId,cartItem:e})}))),o.a.createElement("footer",null,o.a.createElement("p",null,Z(le(g))),p>0&&o.a.createElement(xe,{cart:g,total:p},o.a.createElement(V,null,"Checkout"))))};function _e(e,n){var t=Object(i.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(r){return console.log(r),n}})),r=Object(f.a)(t,2),a=r[0],o=r[1];return[a,function(n){try{var t=n instanceof Function?n(a):n;o(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(r){console.log(r)}}]}function ke(){var e=Object(x.a)(["\n    subscription GET_ALL_ITEMS_IN_CART {\n        cart_items {\n            id\n            item_id\n            quantity\n        }\n    }\n"]);return ke=function(){return e},e}function Se(){var e=Object(x.a)(["\n  .bar {\n    border-bottom: 10px solid ",";\n    display: grid;\n    grid-template-columns: auto 1fr;\n    justify-content: space-between;\n    align-items: stretch;\n    @media (max-width: 1300px) {\n      grid-template-columns: 1fr;\n      justify-content: center;\n    }\n  }\n  .sub-bar {\n    display: grid;\n    grid-template-columns: 1fr auto;\n    border-bottom: 1px solid ",";\n  }\n"]);return Se=function(){return e},e}function Ce(){var e=Object(x.a)(["\n  font-size: 4rem;\n  margin-left: 2rem;\n  position: relative;\n  z-index: 2;\n  transform: skew(-7deg);\n  a {\n    padding: 0.5rem 1rem;\n  }\n  @media (max-width: 1300px) {\n    margin: 0;\n    text-align: center;\n  }\n"]);return Ce=function(){return e},e}var Ie=_.c.h1(Ce()),Re=_.c.header(Se(),(function(e){return e.theme.black}),(function(e){return e.theme.lightgrey})),Te=Y()(ke()),Ne=o.a.createContext(null),ze=function(){return Object(i.useContext)(Ne)},qe=function(){var e=_e("isCartOpen",!1),n=Object(f.a)(e,2),t=n[0],r=n[1],a=_e("cartCount",!1),i=Object(f.a)(a,2),c=i[0],l=i[1];return o.a.createElement(Re,null,o.a.createElement(Ne.Provider,{value:{isOpen:t,setIsOpen:r,cartCount:c,setCartCount:l}},o.a.createElement("div",{className:"bar"},o.a.createElement(Ie,null,o.a.createElement(I.b,{to:"/"},o.a.createElement("img",{width:"300px",src:T.a,alt:"Mazada Logo"}))),o.a.createElement(M,null)),o.a.createElement(we,null)))};function Ue(){var e=Object(x.a)(["\n  @font-face {\n    font-family: 'radnika_next';\n    src:  url('/fonts/radnikanext-medium-webfont.woff2') format('woff2');\n    font-weight: normal;\n    font-style: normal;\n  }\n  html {\n    box-sizing: border-box;\n    font-size: 10px;\n  }\n  *, *:before, *:after {\n    box-sizing: inherit;\n  }\n  body {\n    padding: 0;\n    margin: 0;\n    font-size: 1.5rem;\n    line-height: 2;\n    font-family: 'radnika_next','serif';\n  }\n  a {\n    text-decoration: none;\n    color: ",";\n  }\n  button {  font-family: 'radnika_next','serif'; }\n"]);return Ue=function(){return e},e}function Ae(){var e=Object(x.a)(["\n  max-width: ",";\n  margin: 0 auto;\n  padding: 2rem;\n"]);return Ae=function(){return e},e}function De(){var e=Object(x.a)(["\n  background: white;\n  color: ",";\n"]);return De=function(){return e},e}var Le={red:"#2e8ca2",secondColor:"#dc3535",black:"#393939",grey:"#3A3A3A",lightgrey:"#E1E1E1",offWhite:"#EDEDED",maxWidth:"1000px",bs:"0 12px 24px 0 rgba(0, 0, 0, 0.09)"},Pe=_.c.div(De(),(function(e){return e.theme.black})),$e=_.c.div(Ae(),(function(e){return e.theme.maxWidth})),Me=Object(_.b)(Ue(),Le.black),Fe=function(e){var n=e.children;return o.a.createElement(_.a,{theme:Le},o.a.createElement(Pe,null,o.a.createElement(Me,null),o.a.createElement(qe,null),o.a.createElement($e,null,n)))},We=t(32),Ye=t(108),Qe=t(24);function Ge(){var e=Object(x.a)(["\n  margin: 0 1rem;\n  text-align: center;\n  transform: skew(-5deg) rotate(-1deg);\n  margin-top: -3rem;\n  text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.1);\n  a {\n    background: ",";\n    display: inline;\n    line-height: 1.3;\n    font-size: 4rem;\n    text-align: center;\n    color: white;\n    padding: 0 1rem;\n  }\n"]);return Ge=function(){return e},e}var Be=_.c.h3(Ge(),(function(e){return e.theme.secondColor}));function Je(){var e=Object(x.a)(["\n  background: white;\n  border: 1px solid ",";\n  box-shadow: ",";\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  img {\n    width: 100%;\n    height: 400px;\n    object-fit: cover;\n  }\n  p {\n    font-size: 12px;\n    line-height: 2;\n    font-weight: 300;\n    flex-grow: 1;\n    padding: 0 3rem;\n    font-size: 1.5rem;\n  }\n  .buttonList {\n    display: grid;\n    width: 100%;\n    border-top: 1px solid ",";\n    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n    grid-gap: 1px;\n    background: ",";\n    & > * {\n      background: #fdc6ad;\n      border: 0;\n      font-family: 'radnika_next', 'serif';\n      font-size: 30px;\n      padding: 1rem;\n    }\n  }\n"]);return Je=function(){return e},e}var Xe=_.c.div(Je(),(function(e){return e.theme.offWhite}),(function(e){return e.theme.bs}),(function(e){return e.theme.lightgrey}),(function(e){return e.theme.lightgrey}));function He(){var e=Object(x.a)(["\n  background: ",";\n  transform: rotate(3deg);\n  color: white;\n  font-weight: 600;\n  padding: 5px;\n  line-height: 1;\n  font-size: 3rem;\n  display: inline-block;\n  position: absolute;\n  top: -3px;\n  right: -3px;\n"]);return He=function(){return e},e}var Ke=_.c.span(He(),(function(e){return e.theme.red}));function Ve(){var e=Object(x.a)(["\n    mutation UPDATE_ITEM_IN_CART($cart_id: uuid!, $quantity: Int!) {\n        update_cart_items(where: {id : {_eq: $cart_id}}, _set: {quantity: $quantity}) {\n            returning {\n                id\n                item_id\n                quantity\n            }\n        }\n    }\n"]);return Ve=function(){return e},e}function Ze(){var e=Object(x.a)(["\n    mutation ADD_TO_CART_MUTATION($id: uuid!) {\n        insert_cart_items(objects: {item_id: $id}) {\n            returning {\n                id\n                item_id\n                quantity\n            }\n        }\n    }\n"]);return Ze=function(){return e},e}function en(){var e=Object(x.a)(["\n        query GET_CURRENT_ITEM_IN_CART($id: uuid!) {\n            cart_items(where: {item_id : {_eq: $id}}) {\n                id\n                item_id\n                quantity\n            }\n        }\n"]);return en=function(){return e},e}var nn=Y()(en()),tn=Y()(Ze()),rn=Y()(Ve()),an=function(e){var n=o.a.useState(!1),t=Object(f.a)(n,2),r=t[0],a=t[1],i=e.id,c=Object(F.a)(rn),l=Object(f.a)(c,1)[0],u=Object(F.a)(tn),m=Object(f.a)(u,1)[0],s=Object(F.b)(nn,{variables:{id:i}}),g=s.error,b=s.data,h=function(){var e=Object(p.a)(d.a.mark((function e(){var n,t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(!0),g&&console.error(g),!((n=b.cart_items)&&n.length>0)){e.next=10;break}return t=n[0].id,r=n[0].quantity,e.next=8,l({variables:{cart_id:t,quantity:r+1},refetchQueries:["GET_CURRENT_ITEM_IN_CART"],update:function(e,n){if(!n.data)return null}}).then((function(e){e.data;a(!1)})).catch((function(e){console.log("ERROR OCCURRED",e),a(!1)}));case 8:e.next=12;break;case 10:return e.next=12,m({variables:{id:i},refetchQueries:["GET_CURRENT_ITEM_IN_CART"],update:function(e,n){if(!n.data)return null}}).then((function(e){e.data;a(!1)})).catch((function(e){console.log("ERROR OCCURRED",e),a(!1)}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement("button",{disabled:r,onClick:h},"Add",r&&"ing"," To Cart \ud83d\uded2")},on=function(e){var n=e.item;return o.a.createElement(Xe,null,n.img&&o.a.createElement("img",{src:n.img,alt:n.title}),o.a.createElement(Be,null,o.a.createElement(I.b,{to:{pathname:"/item/".concat(n.id)}},n.title)),o.a.createElement(Ke,null,Z(n.price)),o.a.createElement("p",null,"Sold by ",n.store.name),o.a.createElement("p",null,n.description),o.a.createElement("div",{className:"buttonList"},o.a.createElement(an,{id:n.id})))};function cn(){var e=Object(x.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 60px;\n  max-width: ",";\n  margin: 0 auto;\n  @media (max-width: 600px) {\n      grid-template-columns: 1fr;\n      /* OR, change value to 'none' */\n  }\n"]);return cn=function(){return e},e}function ln(){var e=Object(x.a)(["\n  text-align: center;\n"]);return ln=function(){return e},e}function un(){var e=Object(x.a)(["\n    subscription ALL_ITEMS_QUERY {\n        items(order_by: {created_at: desc}) {\n            id\n            title\n            img\n            description\n            price\n            store_id\n            created_at\n            store {\n                name\n            }\n        }\n    }\n"]);return un=function(){return e},e}var mn=Y()(un()),sn=_.c.div(ln()),dn=_.c.div(cn(),(function(e){return e.theme.maxWidth})),pn=function(){var e=Object(i.useState)(!1),n=Object(f.a)(e,2),t=n[0],r=n[1],a=Object(c.g)();Object(i.useEffect)((function(){be.a.done(),r(!0)}),[a]),t||be.a.start();var l=Object(F.c)(mn),u=l.loading,m=l.error,s=l.data;return u?o.a.createElement("p",null,"Loading..."):m?(console.error(m),o.a.createElement(de,{error:m})):o.a.createElement(sn,null,o.a.createElement(dn,null,s.items.map((function(e){return o.a.createElement(on,{item:e,key:e.id})}))))},fn=t(38);function gn(){var e=Object(x.a)(["\n    query SINGLE_ITEM_QUERY($id: uuid!) {\n        items_by_pk( id: $id ) {\n            id\n            title\n            description\n            img\n            price\n            store_id\n            store {\n                description\n                name\n            }\n        }\n    }\n"]);return gn=function(){return e},e}function bn(){var e=Object(x.a)(["\n     box-shadow: 0 12px 24px 0 rgba(187, 144, 29, 0.79);\n     padding-left: 5px;\n     margin-top: 90px;\n"]);return bn=function(){return e},e}function hn(){var e=Object(x.a)(["\n  max-width: 1200px;\n  margin: 2rem auto;\n  box-shadow: ",";\n  display: grid;\n  grid-auto-columns: 1fr;\n  grid-auto-flow: column;\n  min-height: 800px;\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n  .details {\n    margin: 3rem;\n    font-size: 2rem;\n  }\n"]);return hn=function(){return e},e}var En=_.c.div(hn(),(function(e){return e.theme.bs})),vn=_.c.div(bn()),On=Y()(gn()),xn=function(){var e=Object(c.h)().id,n=Object(F.b)(On,{variables:{id:e}}),t=n.loading,r=n.error,a=n.data;if(t)return o.a.createElement("p",null,"Loading...");if(r)return console.error(r),o.a.createElement(de,{error:r});if(!a.items_by_pk)return o.a.createElement("p",null,"No Item Found for ",e);var i=a.items_by_pk;return o.a.createElement(En,null,o.a.createElement(fn.Helmet,null,o.a.createElement("title",null,i.title)),o.a.createElement("img",{src:i.img,alt:i.title}),o.a.createElement("div",{className:"details"},o.a.createElement("h2",null,"Viewing ",i.title),o.a.createElement("p",null,i.description),o.a.createElement("p",null,Z(i.price)),o.a.createElement(vn,null,o.a.createElement("p",null,"Store: ",i.store.name),o.a.createElement("p",null,i.store.description))))};function yn(){var e=Object(x.a)(["\n  margin-top: 30px;\n"]);return yn=function(){return e},e}function jn(){var e=Object(x.a)(["\n  margin: 0 1rem;\n  text-align: center;\n  transform: skew(-5deg) rotate(-1deg);\n  margin-top: -1rem;\n  text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.1);\n  a {\n    background: ",";\n    display: inline;\n    line-height: 1.3;\n    font-size: 4rem;\n    text-align: center;\n    color: white;\n    padding: 0 1rem;\n  }\n"]);return jn=function(){return e},e}var wn=_.c.h3(jn(),(function(e){return e.theme.red})),_n=_.c.p(yn()),kn=function(e){var n=Object(c.f)(),t=e.store;return o.a.createElement(Xe,null,o.a.createElement(wn,null,o.a.createElement(I.b,{to:{pathname:"/store/".concat(t.id)}},t.name)),o.a.createElement(_n,null,t.description),o.a.createElement("div",{className:"buttonList"},o.a.createElement("button",{type:"button",onClick:function(){n.push("/store/".concat(t.id))}},"Open Store")))};function Sn(){var e=Object(x.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 60px;\n  max-width: ",";\n  margin: 80px auto;\n  min-height: 200px;\n    @media (max-width: 600px) {\n      grid-template-columns: 1fr;\n      /* OR, change value to 'none' */\n  }\n"]);return Sn=function(){return e},e}function Cn(){var e=Object(x.a)(["\n  text-align: center;\n"]);return Cn=function(){return e},e}function In(){var e=Object(x.a)(["\n    query ALL_STORES_QUERY {\n        user_store {\n            store {\n                id\n                name\n                description\n                created_at\n            }\n        }\n    }\n"]);return In=function(){return e},e}var Rn=Y()(In()),Tn=_.c.div(Cn()),Nn=_.c.div(Sn(),(function(e){return e.theme.maxWidth})),zn=function(){return o.a.createElement("p",null,"You can create new items to sell in your store and view your orders.")},qn=function(){var e=Object(c.f)(),n=Object(i.useState)(!1),t=Object(f.a)(n,2),r=t[0],a=t[1],l=Object(c.g)();Object(i.useEffect)((function(){be.a.done(),a(!0)}),[l]),r||be.a.start();var u=Object(F.b)(Rn),m=u.loading,s=u.error,d=u.data;return m?o.a.createElement("p",null,"Loading..."):s?(console.error(s),o.a.createElement("div",null,"Error!")):d.user_store&&d.user_store.length?o.a.createElement(Tn,null,o.a.createElement("h2",null," Your Store List"),o.a.createElement(zn,null),o.a.createElement("button",{type:"button",onClick:function(){e.push("/createStore")}},"Create Another Store"),o.a.createElement(Nn,null,d.user_store.map((function(e){return o.a.createElement(kn,{store:e.store,key:e.store.id})})))):o.a.createElement(Tn,null,o.a.createElement("p",null,"You have no Stores yet. Click below to create a new store."),o.a.createElement(zn,null),o.a.createElement("button",{type:"button",onClick:function(){e.push("/createStore")}},"Create New Store"))},Un=t(538),An=t(539),Dn=t(540),Ln=t(541),Pn=t(543),$n=t(542);function Mn(){var e=Object(x.a)(["\n    query SINGLE_STORE_QUERY($id: uuid!) {\n        stores_by_pk( id: $id ) {\n            description\n            created_at\n            id\n            name\n            items_aggregate {\n                aggregate {\n                    count\n                }\n            }\n            items {\n                id\n                img\n                title\n                description\n                created_at\n            }\n            order_items_aggregate {\n                aggregate {\n                    count\n                }\n            }\n            order_items {\n                id\n                title\n                user {\n                    name\n                }\n                order_id\n                price\n                quantity\n                status\n            }\n        }\n    }\n"]);return Mn=function(){return e},e}var Fn=Y()(Mn()),Wn=function(e){var n=e.store,t=Object(c.f)();return o.a.createElement(Un.a,null,o.a.createElement(An.a,null,o.a.createElement(Dn.a,null,o.a.createElement(Ln.a,null,o.a.createElement("h2",null,n.name),o.a.createElement("p",null,n.description),o.a.createElement("button",{type:"button",onClick:function(){t.push("/store/".concat(n.id,"/createItem"))}},"Create New Item")))),o.a.createElement(An.a,null,o.a.createElement(Dn.a,{lg:!0},o.a.createElement(Pn.a,null,o.a.createElement(Pn.a.Body,null,o.a.createElement(Pn.a.Title,null,"Items  -  ",n.items_aggregate.aggregate.count),o.a.createElement(Pn.a.Subtitle,{className:"mb-2 text-muted"},"Current Items in your store"),o.a.createElement($n.a,null,n.items.map((function(e){return o.a.createElement($n.a.Item,{key:e.id,eventKey:e.id,onClick:function(){t.push("/item/".concat(e.id))}}," ",e.title," ")})))),o.a.createElement(Pn.a.Footer,{className:"text-muted"},"All Items will show here once created"))),o.a.createElement(Dn.a,{lg:!0},o.a.createElement(Pn.a,null,o.a.createElement(Pn.a.Body,null,o.a.createElement(Pn.a.Title,null,"Orders  - ",n.order_items_aggregate.aggregate.count),o.a.createElement(Pn.a.Subtitle,{className:"mb-2 text-muted"},"Total Sales ",Z(n.order_items.reduce((function(e,n){return e+n.price}),0))),o.a.createElement($n.a,null,n.order_items.map((function(e){return o.a.createElement($n.a.Item,{key:e.id,eventKey:e.id}," ",o.a.createElement("h4",null," ",e.title,"  (qty: ",e.quantity,") "),"  ",o.a.createElement("p",null,"Total: ",Z(e.price)))})))),o.a.createElement(Pn.a.Footer,{className:"text-muted"},"All orders will show here once created")))))},Yn=function(){var e=Object(c.h)().id,n=Object(F.b)(Fn,{variables:{id:e}}),t=n.loading,r=n.error,a=n.data;if(t)return o.a.createElement("p",null,"Loading...");if(r)return console.error(r),o.a.createElement(de,{error:r});if(!a.stores_by_pk)return o.a.createElement("p",null,"No Store Found for ",e);var i=a.stores_by_pk;return o.a.createElement(Un.a,{style:{marginTop:"70px"}},o.a.createElement(fn.Helmet,null,o.a.createElement("title",null,i.name)),o.a.createElement(An.a,null,o.a.createElement(Dn.a,{xl:10,lg:8,md:8,sm:8,xs:12},o.a.createElement(Wn,{store:i}))))},Qn=t(109),Gn=t(39);function Bn(){var e=Object(x.a)(["\n  box-shadow: 0 0 5px 3px rgba(0, 0, 0, 0.05);\n  background: rgba(0, 0, 0, 0.02);\n  border: 5px solid white;\n  padding: 20px;\n  font-size: 1.5rem;\n  line-height: 1.5;\n  font-weight: 600;\n  label {\n    display: block;\n    margin-bottom: 1rem;\n  }\n  input,\n  textarea,\n  select {\n    width: 100%;\n    padding: 0.5rem;\n    font-size: 1rem;\n    border: 1px solid black;\n    &:focus {\n      outline: 0;\n      border-color: ",";\n    }\n  }\n  button,\n  input[type='submit'] {\n    width: auto;\n    background: red;\n    color: white;\n    border: 0;\n    font-size: 2rem;\n    font-weight: 600;\n    padding: 0.5rem 1.2rem;\n  }\n  fieldset {\n    border: 0;\n    padding: 0;\n\n    &[disabled] {\n      opacity: 0.5;\n    }\n    &::before {\n      height: 10px;\n      content: '';\n      display: block;\n      background-image: linear-gradient(to right, #ff3019 0%, #e2b04a 50%, #ff3019 100%);\n    }\n    &[aria-busy='true']::before {\n      background-size: 50% auto;\n      animation: "," 0.5s linear infinite;\n    }\n  }\n"]);return Bn=function(){return e},e}function Jn(){var e=Object(x.a)(["\n  from {\n    background-position: 0 0;\n    /* rotate: 0; */\n  }\n\n  to {\n    background-position: 100% 100%;\n    /* rotate: 360deg; */\n  }\n"]);return Jn=function(){return e},e}var Xn=Object(_.d)(Jn()),Hn=_.c.form(Bn(),(function(e){return e.theme.red}),Xn);function Kn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Vn(){var e=Object(x.a)(["\n    mutation CREATE_STORE_MUTATION(\n        $name: String!\n        $description: String!\n    ) {\n        insert_user_store(\n            objects: {store: {data:{\n                name: $name\n                description: $description\n            }}}) {\n            returning{\n                store{\n                    id\n                    name\n                    description\n                    created_at\n                }\n            }\n        }\n    }\n"]);return Vn=function(){return e},e}var Zn=Y()(Vn()),et=function(){var e=o.a.useState({name:"",description:""}),n=Object(f.a)(e,2),t=n[0],r=n[1],a=o.a.useState(!1),i=Object(f.a)(a,2),l=i[0],u=i[1],m=o.a.useState(null),s=Object(f.a)(m,2),g=s[0],b=s[1],h=function(e){var n=e.target,t=n.name,a=n.value;r((function(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Kn(Object(t),!0).forEach((function(n){Object(Gn.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Kn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e,Object(Gn.a)({},t,a))}))},E=Object(c.f)(),v=Object(F.a)(Zn),O=Object(f.a)(v,1)[0];return o.a.createElement(Hn,{"data-test":"form",onSubmit:function(){var e=Object(p.a)(d.a.mark((function e(n){var a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),n.preventDefault(),a=t.name,i=t.description,e.next=5,O({variables:{name:a,description:i},update:function(e,n){var t=n.data;if(!t)return null;var r=e.readQuery({query:Rn}),a=r?r.user_store:[],i=t.insert_user_store.returning[0];e.writeQuery({query:Rn,data:{user_store:[i.store].concat(Object(Qn.a)(a))}})}}).then((function(e){var n=e.data;r({name:"",description:""}),u(!1);var t=n.insert_user_store.returning[0];E.push("/store/".concat(t.store.id))})).catch((function(e){console.log("ERROR OCCURRED",e),b(e),u(!1)}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},o.a.createElement(de,{error:g}),o.a.createElement("fieldset",{disabled:l,"aria-busy":l},o.a.createElement("label",{htmlFor:"name"},"Name of Store",o.a.createElement("input",{type:"text",id:"name",name:"name",placeholder:"Name",required:!0,value:t.name,onChange:h})),o.a.createElement("label",{htmlFor:"description"},"Description",o.a.createElement("textarea",{id:"description",name:"description",placeholder:"Enter A Description",required:!0,value:t.description,onChange:h})),o.a.createElement("button",{type:"submit"},"Submit")))};function nt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function tt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nt(Object(t),!0).forEach((function(n){Object(Gn.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function rt(){var e=Object(x.a)(["\n    mutation CREATE_ITEM_MUTATION(\n        $title: String!\n        $description: String!\n        $price: Int!\n        $image: String,\n        $store_id: uuid!\n    ) {\n        insert_items(\n            objects: {\n                title: $title\n                description: $description\n                price: $price\n                img: $image\n                store_id: $store_id\n            }) {\n            returning{\n                id\n                title\n                img\n                description\n                price\n                store_id\n                created_at\n                store {\n                    name\n                }\n            }\n        }\n    }\n"]);return rt=function(){return e},e}var at=Y()(rt()),it=function(){var e=Object(c.h)().storeId,n=o.a.useState({title:"",description:"",image:"",price:0}),t=Object(f.a)(n,2),r=t[0],a=t[1],i=o.a.useState(!1),l=Object(f.a)(i,2),u=l[0],m=l[1],s=o.a.useState(null),g=Object(f.a)(s,2),b=g[0],h=g[1],E=function(e){var n=e.target,t=n.name,r=n.type,i=n.value,o="number"===r?function(n){try{var t=parseFloat(n);return Number.isNaN(t)?"":t}catch(e){return 0}}(i):i;a((function(e){return tt({},e,Object(Gn.a)({},t,o))}))},v=function(){var e=Object(p.a)(d.a.mark((function e(n){var t,r,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.target.files,(r=new FormData).append("file",t[0]),r.append("upload_preset","mazada"),e.next=6,fetch("https://api.cloudinary.com/v1_1/abbathaw/image/upload",{method:"POST",body:r});case 6:return i=e.sent,e.next=9,i.json();case 9:o=e.sent,a((function(e){return tt({},e,{image:o.secure_url})}));case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),O=Object(c.f)(),x=Object(F.a)(at),y=Object(f.a)(x,1)[0];return o.a.createElement(Hn,{"data-test":"form",onSubmit:function(){var n=Object(p.a)(d.a.mark((function n(t){var i,o,c,l;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return m(!0),t.preventDefault(),i=r.title,o=r.description,c=r.price,l=r.image,n.next=5,y({variables:{title:i,description:o,price:100*c,image:l,store_id:e}}).then((function(e){var n=e.data;a({title:"",description:"",price:0,image:""}),m(!1);var t=n.insert_items.returning[0];O.push("/item/".concat(t.id))})).catch((function(e){console.log("ERROR OCCURRED",e),h(e),m(!1)}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},o.a.createElement(de,{error:b}),o.a.createElement("fieldset",{disabled:u,"aria-busy":u},o.a.createElement("label",{htmlFor:"file"},"Image",o.a.createElement("input",{type:"file",id:"file",name:"file",placeholder:"Upload an image",required:!0,onChange:v}),r.image&&o.a.createElement("img",{width:"200",src:r.image,alt:"Upload Preview"})),o.a.createElement("label",{htmlFor:"title"},"Title",o.a.createElement("input",{type:"text",id:"title",name:"title",placeholder:"Title",required:!0,value:r.title,onChange:E})),o.a.createElement("label",{htmlFor:"price"},"Price",o.a.createElement("input",{type:"number",id:"price",name:"price",placeholder:"Price",required:!0,value:r.price,onChange:E})),o.a.createElement("label",{htmlFor:"description"},"Description",o.a.createElement("textarea",{id:"description",name:"description",placeholder:"Enter A Description",required:!0,value:r.description,onChange:E})),o.a.createElement("button",{type:"submit"},"Submit")))},ot=t(105);function ct(){var e=Object(x.a)(["\n  max-width: 1000px;\n  margin: 0 auto;\n  border: 1px solid ",";\n  box-shadow: ",";\n  padding: 2rem;\n  border-top: 10px solid red;\n  & > p {\n    display: grid;\n    grid-template-columns: 1fr 5fr;\n    margin: 0;\n    border-bottom: 1px solid ",";\n    span {\n      padding: 1rem;\n      &:first-child {\n        font-weight: 900;\n        text-align: right;\n      }\n    }\n  }\n  .order-item {\n    border-bottom: 1px solid ",";\n    display: grid;\n    grid-template-columns: 300px 1fr;\n    align-items: center;\n    grid-gap: 2rem;\n    margin: 2rem 0;\n    padding-bottom: 2rem;\n    img {\n      width: 100%;\n      object-fit: cover;\n    }\n  }\n"]);return ct=function(){return e},e}var lt=_.c.div(ct(),(function(e){return e.theme.offWhite}),(function(e){return e.theme.bs}),(function(e){return e.theme.offWhite}),(function(e){return e.theme.offWhite}));function ut(){var e=Object(x.a)(["\n    query SINGLE_ORDER_QUERY($id: uuid!) {\n        orders_by_pk( id: $id ) {\n            id\n            charge\n            created_at\n            paid\n            total\n            order_items {\n                id\n                img\n                description\n                price\n                quantity\n                status\n                store_id\n                title\n            }\n        }\n    }\n"]);return ut=function(){return e},e}var mt=Y()(ut()),st=function(){var e=Object(c.h)().id,n=Object(F.b)(mt,{variables:{id:e}}),t=n.loading,r=n.error,a=n.data;if(t)return o.a.createElement("p",null,"Loading...");if(r)return console.error(r),o.a.createElement(de,{error:r});if(!a.orders_by_pk)return o.a.createElement("p",null,"No Order Found for ",e);var i=a.orders_by_pk;return o.a.createElement(lt,{"data-test":"order"},o.a.createElement(fn.Helmet,null,o.a.createElement("title",null,"Mazada - Order ",e)),o.a.createElement("p",null,o.a.createElement("span",null,"Order ID:"),o.a.createElement("span",null,e)),o.a.createElement("p",null,o.a.createElement("span",null,"Charge"),o.a.createElement("span",null,i.charge)),o.a.createElement("p",null,o.a.createElement("span",null,"Date"),o.a.createElement("span",null,i.created_at)),o.a.createElement("p",null,o.a.createElement("span",null,"Order Total"),o.a.createElement("span",null,Z(i.total))),o.a.createElement("p",null,o.a.createElement("span",null,"Item Count"),o.a.createElement("span",null,i.order_items.length)),o.a.createElement("div",{className:"items"},i.order_items.map((function(e){return o.a.createElement("div",{className:"order-item",key:e.id},o.a.createElement("img",{src:e.img,alt:e.title}),o.a.createElement("div",{className:"item-details"},o.a.createElement("h2",null,e.title),o.a.createElement("p",null,"Qty: ",e.quantity),o.a.createElement("p",null,"Each: ",Z(e.price)),o.a.createElement("p",null,"SubTotal: ",Z(e.price*e.quantity)),o.a.createElement("p",null,e.description)))}))))};function dt(){var e=Object(x.a)(["\n  box-shadow: ",";\n  list-style: none;\n  padding: 2rem;\n  border: 1px solid ",";\n  h2 {\n    border-bottom: 2px solid red;\n    margin-top: 0;\n    margin-bottom: 2rem;\n    padding-bottom: 2rem;\n  }\n\n  .images {\n    display: grid;\n    grid-gap: 10px;\n    grid-template-columns: repeat(auto-fit, minmax(0, 1fr));\n    margin-top: 1rem;\n    img {\n      height: 200px;\n      object-fit: cover;\n      width: 100%;\n    }\n  }\n  .order-meta {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(20px, 1fr));\n    display: grid;\n    grid-gap: 1rem;\n    text-align: center;\n    & > * {\n      margin: 0;\n      background: rgba(0, 0, 0, 0.03);\n      padding: 1rem 0;\n    }\n    strong {\n      display: block;\n      margin-bottom: 1rem;\n    }\n  }\n"]);return dt=function(){return e},e}var pt=_.c.li(dt(),(function(e){return e.theme.bs}),(function(e){return e.theme.offWhite}));function ft(){var e=Object(x.a)(["\n  display: grid;\n  grid-gap: 4rem;\n  grid-template-columns: repeat(auto-fit, minmax(40%, 1fr));\n"]);return ft=function(){return e},e}function gt(){var e=Object(x.a)(["\n    subscription ALL_ORDERS_QUERY {\n        orders(order_by: {created_at: desc}) {\n            id\n            charge\n            created_at\n            paid\n            total\n            order_items {\n                quantity\n                img\n                title\n                id\n            }\n        }\n    }\n"]);return gt=function(){return e},e}var bt=Y()(gt()),ht=_.c.ul(ft()),Et=function(){var e=Object(i.useState)(!1),n=Object(f.a)(e,2),t=n[0],r=n[1],a=Object(c.g)();Object(i.useEffect)((function(){be.a.done(),r(!0)}),[a]),t||be.a.start();var l=Object(F.c)(bt),u=l.loading,m=l.error,s=l.data;if(u)return o.a.createElement("p",null,"Loading...");if(m)return console.error(m),o.a.createElement(de,{error:m});var d=s.orders;return o.a.createElement("div",null,o.a.createElement("h2",null,"You have ",d.length," orders"),o.a.createElement(ht,null,d.map((function(e){return o.a.createElement(pt,{key:e.id},o.a.createElement(I.b,{to:{pathname:"/order/".concat(e.id)}},o.a.createElement("div",{className:"order-meta"},o.a.createElement("p",null,e.order_items.reduce((function(e,n){return e+n.quantity}),0)," Items"),o.a.createElement("p",null,e.order_items.length," Products"),o.a.createElement("p",null,Z(e.total))),o.a.createElement("div",{className:"images"},e.order_items.map((function(e){return o.a.createElement("img",{key:e.id,src:e.img,alt:e.title})})))))}))))},vt=function(e){var n=e.idToken,t=xt().loading,r=function(e){return new We.c({link:new ot.a({uri:"ws://localhost:8080/v1/graphql",options:{reconnect:!0,connectionParams:{headers:{Authorization:"Bearer ".concat(e)}}}}),cache:new Ye.a})}(n);return t?o.a.createElement(O,null):o.a.createElement(Qe.a,{client:r},o.a.createElement(I.a,null,o.a.createElement(Fe,null,o.a.createElement("div",null,o.a.createElement(c.c,null,o.a.createElement(c.a,{exact:!0,path:"/"},o.a.createElement(pn,null)),o.a.createElement(c.a,{path:"/shop"},o.a.createElement(pn,null)),o.a.createElement(c.a,{path:"/Sell"},o.a.createElement(qn,null)),o.a.createElement(c.a,{path:"/orders"},o.a.createElement(Et,null)),o.a.createElement(c.a,{path:"/item/:id",component:xn}),o.a.createElement(c.a,{path:"/createStore",component:et}),o.a.createElement(c.a,{path:"/store/:storeId/createItem",component:it}),o.a.createElement(c.a,{path:"/store/:id",component:Yn}),o.a.createElement(c.a,{path:"/order/:id",component:st}))))))};h.config.region=m.region;var Ot=o.a.createContext(null),xt=function(){return Object(i.useContext)(Ot)},yt=function(e){var n=e.children,t=(e.onRedirectCallback,Object(g.a)(e,["children","onRedirectCallback"])),r=Object(i.useState)(!1),a=Object(f.a)(r,2),c=a[0],l=a[1],u=Object(i.useState)(),m=Object(f.a)(u,2),s=m[0],h=m[1],E=Object(i.useState)(),v=Object(f.a)(E,2),x=v[0],y=v[1],j=Object(i.useState)(!0),w=Object(f.a)(j,2),_=w[0],k=w[1],S=Object(i.useState)(""),I=Object(f.a)(S,2),R=I[0],T=I[1];Object(i.useEffect)((function(){var e=function(){var e=Object(p.a)(d.a.mark((function e(){var n,r,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new b.a(t);case 2:return(n=e.sent).userhandler={onSuccess:function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Success Logging In"),e.next=3,N(t);case 3:return e.next=5,n.getCurrentUser();case 5:r=e.sent,h(r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onFailure:function(e){console.error("Error: Failed to login",e)}},y(n),e.next=7,n.isUserSignedIn();case 7:if(!(r=e.sent)){e.next=18;break}return e.next=11,n.getCurrentUser();case 11:return a=e.sent,h(a),l(r),e.next=16,n.getSignInUserSession();case 16:i=e.sent,T(i.getIdToken().getJwtToken());case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=window.location.href;e().then(function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.parseCognitoWebResponse(n);case 2:t.isUserSignedIn()||l(!1),k(!1);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),[]);var N=function(){var e=Object(p.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&(t=n.getIdToken(),T(t.getJwtToken())),l(!0),e.abrupt("return","ok");case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return _?o.a.createElement(O,null):c?c&&s?o.a.createElement(Ot.Provider,{value:{isAuthenticated:c,idToken:R,user:s,loading:_,loginWithRedirect:function(){return x.getSession()},logout:function(){return x.signOut()}}},n,o.a.createElement(vt,{idToken:R})):o.a.createElement(O,null):o.a.createElement(Ot.Provider,{value:{isAuthenticated:c,user:s,loading:_,loginWithRedirect:function(){return x.getSession()},logout:function(){return x.signOut()}}},o.a.createElement(C,null),");")},jt=function(e){u.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)},wt=o.a.createElement(c.b,{history:u},o.a.createElement(c.a,{path:"/",render:function(e){return o.a.createElement(yt,{AppWebDomain:m.domain,ClientId:m.clientId,UserPoolId:m.UserPoolId,RedirectUriSignIn:m.redirectUri,TokenScopesArray:m.tokenScopes,RedirectUriSignOut:m.signoutUri,onRedirectCallback:jt})}}));a.a.render(wt,document.getElementById("root"))},56:function(e,n){},88:function(e,n,t){e.exports=t.p+"static/media/loading.c5590569.svg"},89:function(e,n,t){e.exports=t.p+"static/media/cover.68f1f977.png"},93:function(e,n,t){e.exports=t.p+"static/media/mazada.2ee1745b.png"}},[[117,1,2]]]);
//# sourceMappingURL=main.ee0b2a03.chunk.js.map